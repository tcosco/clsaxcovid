

* Recoding missing variables to . 


* Assigning labels 

* defining variable names 


label define Sex 0 "Female" 1 "Male"
label define Likert  5 "Much better" 4 "A little better" 3 "Same" 2 "A little worse" 1 "Much worse"
label define urban_rural 0 "Rural Area" 1 "Urban core" 2 "Urban fringe" 4 "Urban Areas out CMA/CAs" 6 "Secondary urban core" 9 "DA only" 3 "Error"
label define AGEGRP 0 "<55" 1 "55-64" 2 "65-74" 3 ">75" 
label define Smoke 1 "Daily" 2 "Occasionally" 3 "Not at all"
label define Alcohol  1 "Almost every day (incl. 6 times a week)" 2 "4-5 times a week" 3 "2-3 times a week" 4 "Once a week" 5 "2-3 times a month" 6 "About once a month" 7 "Less than once a month" 96 "Never"
label define house 1 "Live alone" 0 "Do not live alone"



** EXPOSURE VARIABLES ** 

* cleaning vars *

 foreach var of varlist mob_phact_covx mob_touch_covx mob_social_covx{
 replace `var' = . if `var'==-88888
 replace `var' = . if `var'==-88881
 replace `var' = . if `var'==8
 replace `var' = . if `var'==9
 label values `var' Likert
 }

* renaming * 

clonevar PHYS = mob_phact_covx
clonevar INTOUCH = mob_touch_covx
clonevar SOCIAL = mob_social_covx

* binary variables - "a little worse" or "much worse" = 1; "same" "a little better" "much better" = 0 

clonevar SOCIALbin = SOCIAL
recode SOCIALbin (1/2=1)(3/5=0)
tab SOCIAL SOCIALbin
clonevar PHYSbin = PHYS
recode PHYSbin (1/2=1)(3/5=0)
clonevar INTOUCHbin = INTOUCH
recode INTOUCHbin (1/2=1)(3/5=0)

*labelling 
label define Binary_worse 1 "Worse" 0 "Same/better"
label values SOCIALbin Binary_worse
label values PHYSbin Binary_worse
label values INTOUCHbin Binary_worse



** OUTCOME VARIABLES * 

* Depression present = 1 or absent = 0 

clonevar DEP = dep_dpsfd_covx
replace DEP = . if DEP <=-1


* Anxiety present =1 or absent 0 "
clonevar ANX = gad_dscore_covx
replace ANX = . if ANX == -77771 
replace ANX = . if ANX == -77772
replace ANX = . if ANX == -88881
recode ANX (0/9=0)(10/21=1)


 *** COVARIATES ***
 
 
 * Age *

clonevar age = age_nmbr_covid
replace age = . if age ==-99999

clonevar ageGRP = age
recode ageGRP (20/54=0)(55/64=1)(65/74=2)(75/1000=3)
label define AGEGRP "<55" 0 "55-64" 1 "65-74" 2 ">75" 3
label values ageGRP AGEGRP

* Sex * 

clonevar sex = sex_clsagrp 
label values sex Sex 
 
 * Dwelling type 
 
 clonevar dwell = own_dwlg_covid
replace dwell = . if dwell == -88881 
replace dwell = . if dwell == -88888


* Living area - rural urban

clonevar urbanrural = urban_rural_covid
replace urbanrural = . if urbanrural == -88888
label values urbanrural urban_rural 

* smoking 

clonevar smoke = smk_currcg_covid
replace smoke = . if smoke == -88888
replace smoke = . if smoke == -88881
replace smoke = . if smoke == 8
replace smoke = . if smoke == 9
label values smoke Smoke


* alcohol

clonevar alcohol = alc_freq_covx
replace alcohol = . if alcohol == -99999
replace alcohol = . if alcohol == -88888
replace alcohol = . if alcohol == -88881
replace alcohol = . if alcohol == 98
replace alcohol = . if alcohol == 99
label values alcohol Alcohol

* household composition

clonevar household = own_livc_cat_covid
replace household = "5" if household == "5+"
destring household, gen(houseCAT)
replace houseCAT = . if houseCAT == -77771
replace houseCAT = . if houseCAT == -88881
replace houseCAT = . if houseCAT == -99999
* coding to 1 = live alone - 0 = not alone 
recode houseCAT (0=1)(2/5=0)
label values houseCAT house

*** INCOME

*** ETHNICITY 

*** NUMBER OF CHRONIC CONDITIONS 




* Depression at CLSA FU1
* Anxiety at CLSA FU1
